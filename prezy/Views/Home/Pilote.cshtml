
@{
    ViewBag.Title = "Pilote";
}

@section Scripts{
    <script src="~/Scripts/jquery.signalR-2.2.2.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="/signalr/hubs"></script>
    <script>
        function CommandPPT(command, type) {
            var file = "E:\\GFI\\RoadMapLab2017_Robotique.pptx";
            var values = "Display1$";
            var group = "fablab";
              
            $.get('@Url.Action("SendCommand", "Home")', { id: file, display: values, command: command, type: type, room: group }, function (status) {

            });

        };

        function CommandVLC(command, type) {
            //var file = "E:\\fablab\\libremusic.mp3";
            var file = "E:\\fablab\\librevideo.mp4";
            var values = "Display1$";
            var group = "fablab";
              
            $.get('@Url.Action("SendCommand", "Home")', { id: file, display: values, command: command, type: type, room: group }, function (status) {

            });

        };

        $(function () { // Write JS Below

            

            $.connection.hub.url = 'http://localhost:50873/signalr';
            // Declare a proxy to reference the hub.
            var hub = $.connection.prezyHub;

            // Manage disconnect
            $.connection.hub.disconnected(function () {
                setTimeout(function () {
                    $.connection.hub.start();
                }, 5000); // Restart connection after 5 seconds.
            });

            $.connection.hub.logging = true;

            // Create a function that the hub can call to broadcast messages.
            hub.client.broadcastMessage = function (name, message) {
                // Html encode display name and message.
                var encodedName = $('<div />').text(name).html();
                var encodedMsg = $('<div />').text(message).html();
                // Add the message to the page.
                $('#discussion').append('<li><strong>' + encodedName
                    + '</strong>:&nbsp;&nbsp;' + encodedMsg + '</li>');
            };

            //// Get the user name and store it to prepend to messages.
            //$('#displayname').val(prompt('Enter your name:', ''));

            //// Set initial focus to message input box.
            //$('#message').focus();

            // Start the connection.
            $.connection.hub.start({ jsonp: true }).done(function () {
                // Below what to do when connection start.
                //$('#sendmessage').click(function () {
                //    // Call the Send method on the hub.
                //    chat.server.send($('#displayname').val(), $('#message').val());
                //    // Clear text box and reset focus for next comment.
                //    $('#message').val('').focus();
                //});
            });

        });
    </script>
}

<div class="jumbotron">
    <h2>Pilote</h2>
    <p class="lead">@ViewBag.Message</p>
</div>

<div class="row">
    <div class="col-md-4">
        <h2>Powerpoint</h2>
        <p>
            ASP.NET MVC gives you a powerful, patterns-based way to build dynamic websites that
            enables a clean separation of concerns and gives you full control over markup
            for enjoyable, agile development.
        </p>
        <p><a class="btn btn-default" href="#" onclick="CommandPPT('show','ppt')">Show</a></p>
        <p><a class="btn btn-default" href="#" onclick="CommandPPT('previous','ppt')">Previous</a></p>
        <p><a class="btn btn-default" href="#" onclick="CommandPPT('next','ppt')">Next</a></p>
        <p><a class="btn btn-default" href="#" onclick="CommandPPT('close','ppt')">Close</a></p>
    </div>
    <div class="col-md-4">
        <h2>VLC</h2>
        <p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>
        <p><a class="btn btn-default" href="#" onclick="CommandVLC('open','newvlc')">Read</a></p>
        <p><a class="btn btn-default" href="#" onclick="CommandVLC('close','newvlc')">Stop</a></p>
        <p><a class="btn btn-default" href="#" onclick="CommandVLC('pause','newvlc')">Pause</a></p>
    </div>
    <div class="col-md-4">
        <h2>Word</h2>
        <p>You can easily find a web hosting company that offers the right mix of features and price for your applications.</p>
        <p><a class="btn btn-default" href="https://go.microsoft.com/fwlink/?LinkId=301867">Learn more &raquo;</a></p>
    </div>
</div>